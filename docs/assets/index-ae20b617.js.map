{"version":3,"file":"index-ae20b617.js","sources":["../../src/03.formComponents/XFile/XFile.styles.ts","../../src/03.formComponents/XFile/XFile.tsx","../../src/03.formComponents/XFile/useXFile.ts","../../src/03.formComponents/XFile/index.tsx"],"sourcesContent":["import styled, { keyframes, css } from 'styled-components'\nimport { XButton } from '../../02.components/XButton/XButton.styles'\nimport { XArrow } from '../../01.icons/XArrow/XArrow.styles'\nimport { XClose } from '../../01.icons/XClose/XClose.styles'\nimport XFileTypes from './XFile.types'\n\nconst Input = styled.input`\n  opacity: 0;\n  position: absolute;\n  z-index: -1;\n`\n\nconst moveRight = keyframes`\n  from {\n    transform: translateX(0);\n  }\n  to {\n    transform: translate(20%);\n  }\n`\n\nconst Close = styled(XClose)`\n  transition: transform 100ms ease-in-out;\n\n  &:hover {\n    transform: scale(1.2);\n  }\n\n  &:active {\n    transform: scale(0.98);\n  }\n`\n\nconst hasRunningArrowAnimation = ({ runningArrowAnimation }: Pick<XFileTypes, 'runningArrowAnimation'>) => runningArrowAnimation ? css`\n  animation: 400ms ${moveRight} ease-in-out 4 running;\n` : css`\n  animation: none;\n`\n\nconst Arrow = styled(XArrow)`\n  animation: none;\n\n  ${hasRunningArrowAnimation}\n`\n\nconst ShowFiles = styled.output`\n  padding-bottom: var(--gap-smaller);\n`\n\nexport const XFile = styled(XButton).attrs({ as: 'label' })``\n\nconst WrapperXFile = styled.div`\n  display: inline-flex;\n  position: relative;\n  overflow: hidden;\n  gap: var(--gap-small);\n  align-items: center;\n  padding-right: var(--gap-small)\n`\n\nconst S = {\n  WrapperXFile,\n  XFile,\n  Arrow,\n  ShowFiles,\n  Input,\n  Close\n}\n\nexport default S","import XFileTypes from './XFile.types'\nimport S from './XFile.styles'\n\nconst XFile = ({ children, inputRef, files, multiple, primary, success, warning, error, disabled, runningArrowAnimation, clear, onChange, arrowOnAnimationend }: XFileTypes) => (\n  <S.WrapperXFile>\n    <S.XFile primary={primary} success={success} warning={warning} error={error} disabled={disabled}>\n      {children}\n      <S.Input type='file' ref={inputRef} disabled={disabled} multiple={multiple} onChange={onChange} />\n    </S.XFile>\n    <S.Arrow runningArrowAnimation={runningArrowAnimation} onAnimationEnd={arrowOnAnimationend} />\n    <S.ShowFiles>{files}</S.ShowFiles>\n    <S.Close onClick={clear} />\n  </S.WrapperXFile>\n)\n\nexport default XFile","import { AnimationEventHandler, ChangeEvent, ChangeEventHandler, MouseEventHandler, Ref, useRef, useState } from \"react\"\n\nconst useXFile = () => {\n  const inputRef: Ref<HTMLInputElement> = useRef(null)\n  const defaultFileName = 'No files'\n  const [filesName, setFilesName] = useState<string>(defaultFileName)\n  const [runningArrowAnimation, setRunningArrowAnimation] = useState(false)\n\n  const handleChange: ChangeEventHandler = ({ target: { files } }: ChangeEvent<HTMLInputElement>) => {\n    const amountFiles = files ? files?.length : 0\n    if (files && amountFiles === 1) {\n      setRunningArrowAnimation(true)\n      setFilesName(files[0].name)\n    } else if (files && amountFiles > 1) {\n      setRunningArrowAnimation(true)\n      setFilesName(`${amountFiles} files`)\n    }\n  }\n\n\n  const handleAnimationend: AnimationEventHandler = () => {\n    console.log('animationend')\n    setRunningArrowAnimation(false)\n  }\n\n  const clear: MouseEventHandler<HTMLImageElement> = () => {\n    if (inputRef.current) {\n      setFilesName(defaultFileName)\n      inputRef.current.value = ''\n      inputRef.current.type = 'button'\n      inputRef.current.type = 'file'\n    }\n  }\n\n  return { inputRef, filesName, runningArrowAnimation, clear, handleChange, handleAnimationend }\n}\n\nexport default useXFile","import XFileTypes from './XFile.types'\nimport XFile from './XFile'\nimport useXFile from './useXFile'\n\nexport default (props: XFileTypes) => {\n  const { inputRef, filesName, runningArrowAnimation, handleChange, clear, handleAnimationend } = useXFile()\n\n  return <XFile {...props}\n    inputRef={inputRef}\n    clear={clear}\n    files={filesName}\n    runningArrowAnimation={runningArrowAnimation}\n    onChange={handleChange}\n    arrowOnAnimationend={handleAnimationend}\n  />\n}"],"names":["Input","styled","moveRight","keyframes","Close","XClose","hasRunningArrowAnimation","runningArrowAnimation","css","Arrow","XArrow","ShowFiles","XFile","XButton","WrapperXFile","S","children","inputRef","files","multiple","primary","success","warning","error","disabled","clear","onChange","arrowOnAnimationend","jsxs","jsx","useXFile","useRef","defaultFileName","filesName","setFilesName","useState","setRunningArrowAnimation","amountFiles","props","handleChange","handleAnimationend"],"mappings":"8QAMA,MAAMA,EAAQC,EAAO;AAAA;AAAA;AAAA;AAAA,EAMfC,EAAYC;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,EASZC,EAAQH,EAAOI,CAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAYrBC,EAA2B,CAAC,CAAE,sBAAAC,KAAuEA,EAAwBC;AAAAA,qBAC9GN,CAAS;AAAA,EAC1BM;AAAAA;AAAAA,EAIEC,EAAQR,EAAOS,CAAM;AAAA;AAAA;AAAA,IAGvBJ,CAAwB;AAAA,EAGtBK,EAAYV,EAAO;AAAA;AAAA,EAIZW,EAAQX,EAAOY,CAAO,EAAE,MAAM,CAAE,GAAI,QAAS,IAEpDC,EAAeb,EAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAStBc,EAAI,CACR,aAAAD,EAAA,MACAF,EACA,MAAAH,EACA,UAAAE,EACA,MAAAX,EACA,MAAAI,CACF,EChEAQ,EAAA,CAAA,CAAA,SAAAI,EAAA,SAAAC,EAAA,MAAAC,EAAA,SAAAC,EAAA,QAAAC,EAAA,QAAAC,EAAA,QAAAC,EAAA,MAAAC,EAAA,SAAAC,EAAA,sBAAAjB,EAAA,MAAAkB,EAAA,SAAAC,EAAA,oBAAAC,CAAA,IAAAC,EAAAA,KAAAb,EAAA,aAAA,CAAA,SAAA,CAEIa,OAAAb,EAAA,MAAA,CAAA,QAAAK,EAAA,QAAAC,EAAA,QAAAC,EAAA,MAAAC,EAAA,SAAAC,EAAA,SAAA,CACGR,EAAAa,EAAAA,IAAAd,EAAA,MAAA,CAAA,KAAA,OAAA,IAAAE,EAAA,SAAAO,EAAA,SAAAL,EAAA,SAAAO,CAAA,CAAA,CAC+F,EAAA,EAClGG,EAAA,IAAAd,EAAA,MAAA,CAAA,sBAAAR,EAAA,eAAAoB,EAAA,EAC4FE,EAAAA,IAAAd,EAAA,UAAA,CAAA,SAAAG,CAAA,CAAA,EACxEW,EAAAA,IAAAd,EAAA,MAAA,CAAA,QAAAU,CAAA,CAAA,CACK,CAAA,CAAA,iyCCT7B,MAAMK,EAAW,IAAM,CACf,MAAAb,EAAkCc,SAAO,IAAI,EAC7CC,EAAkB,WAClB,CAACC,EAAWC,CAAY,EAAIC,WAAiBH,CAAe,EAC5D,CAACzB,EAAuB6B,CAAwB,EAAID,WAAS,EAAK,EA4BxE,MAAO,CAAE,SAAAlB,EAAU,UAAAgB,EAAW,sBAAA1B,EAAuB,MATF,IAAM,CACnDU,EAAS,UACXiB,EAAaF,CAAe,EAC5Bf,EAAS,QAAQ,MAAQ,GACzBA,EAAS,QAAQ,KAAO,SACxBA,EAAS,QAAQ,KAAO,OAC1B,EAG0D,aA1BnB,CAAC,CAAE,OAAQ,CAAE,MAAAC,MAA6C,CAC3F,MAAAmB,EAAcnB,EAAQA,GAAA,YAAAA,EAAO,OAAS,EACxCA,GAASmB,IAAgB,GAC3BD,EAAyB,EAAI,EAChBF,EAAAhB,EAAM,CAAC,EAAE,IAAI,GACjBA,GAASmB,EAAc,IAChCD,EAAyB,EAAI,EAChBF,EAAA,GAAGG,CAAW,QAAQ,EACrC,EAkBwE,mBAdxB,IAAM,CACtD,QAAQ,IAAI,cAAc,EAC1BD,EAAyB,EAAK,CAAA,EAalC,EC/BAxB,EAAA0B,GAAA,CACE,KAAA,CAAA,SAAArB,EAAA,UAAAgB,EAAA,sBAAA1B,EAAA,aAAAgC,EAAA,MAAAd,EAAA,mBAAAe,GAAAV,IAEA,OAAAD,EAAA,IAAOjB,EAAC,CAAA,GAAA0B,EAAU,SAAArB,EAChB,MAAAQ,EACA,MAAAQ,EACO,sBAAA1B,EACP,SAAAgC,EACU,oBAAAC,CACW,CAAA,CAEzB"}